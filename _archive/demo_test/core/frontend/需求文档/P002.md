# æµ‹è¯•è¦†ç›–ç‡è¿½è¸ªæŠ¥å‘Š

## æ¦‚è§ˆä¸é…æ¯”
- æ€»å­éœ€æ±‚æ•°: 16 (é’ˆå¯¹ P002 æ¨¡å—)
- å½“å‰è§„åˆ’ç»Ÿè®¡ï¼ˆè¿‘ä¼¼å€¼ï¼‰:
  - Unit: â‰ˆ4
  - Component: â‰ˆ9
  - Integration: â‰ˆ2
  - E2E: â‰ˆ1

## src/pages/P002/SearchResultsPage.jsx

### âœ… å•å…ƒæµ‹è¯• (Unit)
- URLå‚æ•°è§£æé€»è¾‘ (tests/frontend/pages/P002_Search/unit/params_parse.spec.ts)
- éªŒè¯ä»URLæŸ¥è¯¢å­—ç¬¦ä¸²ä¸­æ­£ç¡®æå–from, to, dateç­‰å‚æ•°å¹¶å¤„ç†ç©ºå€¼æƒ…å†µ
- ç­›é€‰é€»è¾‘çº¯å‡½æ•°éªŒè¯ (tests/frontend/pages/P002_Search/unit/filter_logic.spec.ts)
- éªŒè¯è¾“å…¥è½¦æ¬¡åˆ—è¡¨å’Œç­›é€‰æ¡ä»¶(å¦‚åªçœ‹é«˜é“)åè¿”å›æ­£ç¡®çš„è¿‡æ»¤åæ•°ç»„

### ğŸ§© ç»„ä»¶æµ‹è¯• (Component)
- åˆå§‹åŠ è½½çŠ¶æ€ (tests/frontend/pages/P002_Search/component/loading_state.spec.tsx)
- éªŒè¯ç»„ä»¶æŒ‚è½½åˆæœŸæ˜¯å¦æ˜¾ç¤ºâ€œåŠ è½½ä¸­â€æˆ–ç±»ä¼¼çš„LoadingæŒ‡ç¤ºå™¨
- æœç´¢ç»“æœæ¸²æŸ“ (tests/frontend/pages/P002_Search/component/results_render.spec.tsx)
- éªŒè¯ä¼ å…¥Mockè½¦æ¬¡æ•°æ®åæ­£ç¡®æ¸²æŸ“å¯¹åº”æ•°é‡çš„è½¦æ¬¡å¡ç‰‡(TrainCard)
- éªŒè¯è½¦æ¬¡å¡ç‰‡ä¸­æ˜¾ç¤ºçš„è½¦æ¬¡å·ã€å‡ºå‘/åˆ°è¾¾æ—¶é—´ã€å†æ—¶ã€ç¥¨ä»·ä¸Mockæ•°æ®ä¸€è‡´
- ç©ºçŠ¶æ€æ¸²æŸ“ (tests/frontend/pages/P002_Search/component/empty_state.spec.tsx)
- éªŒè¯å½“APIè¿”å›ç©ºæ•°ç»„æ—¶é¡µé¢æ˜¾ç¤ºâ€œæš‚æ— è½¦ç¥¨â€æˆ–ç±»ä¼¼æç¤ºä¿¡æ¯
- ç­›é€‰æ äº¤äº’ (tests/frontend/pages/P002_Search/component/filter_bar.spec.tsx)
- éªŒè¯ç‚¹å‡»â€œåªçœ‹é«˜é“/åŠ¨è½¦â€å¤é€‰æ¡†åè§¦å‘ç­›é€‰é€»è¾‘
- éªŒè¯ç‚¹å‡»â€œå‘è½¦æ—¶é—´â€æ’åºæŒ‰é’®ååˆ—è¡¨é¡ºåºå‘ç”Ÿå˜åŒ–(å¦‚ä»æ—©åˆ°æ™š)
- é¢„è®¢æŒ‰é’®äº¤äº’ (tests/frontend/pages/P002_Search/component/book_button.spec.tsx)
- éªŒè¯ç‚¹å‡»æŸè½¦æ¬¡çš„â€œé¢„è®¢â€æŒ‰é’®åè§¦å‘å¯¼èˆªäº‹ä»¶

### ğŸ”— é›†æˆæµ‹è¯• (Integration)
- æœç´¢è”åŠ¨é€»è¾‘ (tests/frontend/pages/P002_Search/integration/search_flow.spec.tsx)
- éªŒè¯é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è°ƒç”¨APIæŸ¥è¯¢è½¦ç¥¨æ¥å£
- éªŒè¯APIè¿”å›é”™è¯¯(å¦‚500)æ—¶é¡µé¢æ˜¾ç¤ºé”™è¯¯æç¤ºToastæˆ–é”™è¯¯é¡µ
- éªŒè¯ç‚¹å‡»é¢„è®¢æŒ‰é’®åè·³è½¬è‡³/bookingè·¯å¾„å¹¶æºå¸¦è½¦æ¬¡IDå’Œæ—¥æœŸå‚æ•°

## src/pages/P002/BookingPage.jsx

### âœ… å•å…ƒæµ‹è¯• (Unit)
- ç¥¨ä»·è®¡ç®—é€»è¾‘ (tests/frontend/pages/P002_Booking/unit/price_calc.spec.ts)
- éªŒè¯æ€»ç¥¨ä»·ç­‰äºå•ä»·ä¹˜ä»¥ä¹˜å®¢æ•°é‡(è€ƒè™‘ä¸åŒå¸­åˆ«ä»·æ ¼å·®å¼‚)
- ä¹˜å®¢ä¿¡æ¯æ ¡éªŒ (tests/frontend/pages/P002_Booking/unit/passenger_validate.spec.ts)
- éªŒè¯ä¹˜å®¢å§“åéç©ºä¸”èº«ä»½è¯å·ç¬¦åˆæ­£åˆ™è§„åˆ™(18ä½)

### ğŸ§© ç»„ä»¶æµ‹è¯• (Component)
- è®¢å•ä¿¡æ¯å›æ˜¾ (tests/frontend/pages/P002_Booking/component/order_info.spec.tsx)
- éªŒè¯é¡µé¢é¡¶éƒ¨æ­£ç¡®æ˜¾ç¤ºä»ä¸Šä¸€é¡µä¼ é€’è¿‡æ¥çš„è½¦æ¬¡ä¿¡æ¯(è½¦æ¬¡å·ã€æ—¥æœŸã€èµ·æ­¢ç«™)
- å¸­åˆ«é€‰æ‹©äº¤äº’ (tests/frontend/pages/P002_Booking/component/seat_selection.spec.tsx)
- éªŒè¯åˆ‡æ¢â€œäºŒç­‰åº§/ä¸€ç­‰åº§â€ä¸‹æ‹‰æ¡†æˆ–å•é€‰æ¡†åæ˜¾ç¤ºçš„å•ä»·å‘ç”Ÿå˜åŒ–
- ä¹˜å®¢æ·»åŠ ä¸åˆ é™¤ (tests/frontend/pages/P002_Booking/component/passenger_list.spec.tsx)
- éªŒè¯ç‚¹å‡»â€œæ·»åŠ ä¹˜å®¢â€æŒ‰é’®åè¡¨å•æ–°å¢ä¸€è¡Œè¾“å…¥æ¡†
- éªŒè¯ç‚¹å‡»ä¹˜å®¢è¡Œæ—çš„â€œåˆ é™¤â€æŒ‰é’®åè¯¥è¡Œä»DOMä¸­ç§»é™¤
- æäº¤æŒ‰é’®çŠ¶æ€ (tests/frontend/pages/P002_Booking/component/submit_button.spec.tsx)
- éªŒè¯æœªæ·»åŠ ä¹˜å®¢æ—¶â€œæäº¤è®¢å•â€æŒ‰é’®å¤„äºç¦ç”¨çŠ¶æ€(disabled)
- éªŒè¯ç‚¹å‡»æäº¤åæŒ‰é’®è¿›å…¥LoadingçŠ¶æ€é˜²æ­¢é‡å¤æäº¤

### ğŸ”— é›†æˆæµ‹è¯• (Integration)
- æå•å…¨æµç¨‹ (tests/frontend/pages/P002_Booking/integration/submit_order.spec.tsx)
- éªŒè¯å¡«å¥½ä¹˜å®¢ä¿¡æ¯ç‚¹å‡»æäº¤åå‘åç«¯å‘é€POSTè¯·æ±‚
- éªŒè¯è¯·æ±‚PayloadåŒ…å«æ­£ç¡®çš„trainId, seatType, passengersåˆ—è¡¨
- éªŒè¯åç«¯è¿”å›æˆåŠŸåè·¯ç”±è·³è½¬è‡³/order-confirmationæˆ–/paymenté¡µé¢

### ğŸš€ E2E æµ‹è¯• (Playwright)
- è´­ç¥¨æ ¸å¿ƒé—­ç¯ (tests/e2e/booking_process.spec.ts)
- éªŒè¯ä»æœç´¢ç»“æœé¡µç‚¹å‡»é¢„è®¢è¿›å…¥å¡«å†™é¡µæ·»åŠ ä¸€ä½ä¹˜å®¢å¹¶æˆåŠŸæäº¤è®¢å•è·³è½¬è‡³æ”¯ä»˜é¡µ